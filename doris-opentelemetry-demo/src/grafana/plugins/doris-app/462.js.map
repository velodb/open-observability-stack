{"version":3,"file":"462.js?_cache=77196585ebf8c2590f7c","mappings":"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","sources":["webpack://doris-app/./components/App/App.tsx","webpack://doris-app/./constants.ts"],"sourcesContent":["import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { AppRootProps } from '@grafana/data';\nimport { ROUTES } from '../../constants';\nconst Discover = React.lazy(() => import('../../pages/PageDiscover'));\nconst PageTrace = React.lazy(() => import('../../pages/PageTrace'));\n// const PageDashboard = React.lazy(() => import('../../pages/PageDashboard'));\n\nfunction App(_props: AppRootProps) {\n    return (\n        <Routes>\n            <Route path={ROUTES.Discover} element={<Discover />} />\n            <Route path={`${ROUTES.Traces}`} element={<PageTrace />} />\n            {/* <Route path={`${ROUTES.Dashboard}`} element={<PageDashboard />} /> */}\n            <Route path=\"*\" element={<Discover />} />\n        </Routes>\n    );\n}\n\nexport default App;\n","import { AutoInterval } from 'types/type';\nimport pluginJson from './plugin.json';\nimport { Dayjs } from 'dayjs';\nimport { groupBy } from 'lodash-es';\n\nexport const PLUGIN_BASE_URL = `/a/${pluginJson.id}`;\n\nexport enum ROUTES {\n  One = 'one',\n  Discover = 'discover',\n  Traces = 'traces',\n  Dashboard = 'dashboard',\n}\n\nexport const FORMAT_DATE = 'YYYY-MM-DD HH:mm:ss';\nexport enum IntervalEnum {\n    Auto = 'auto',\n    Day = 'day',\n    Week = 'week',\n    Month = 'month',\n    Year = 'year',\n    Hour = 'hour',\n    Minute = 'minute',\n    Second = 'second',\n}\n\nexport const DEFAULT_SERVICE = { value: 'all', label: 'ALL' };\nexport const DEFAULT_OPERATION = { value: 'all', label: 'ALL' };\n\nexport const AUTO_INTERVALS = [\n    {\n        current_date_range: 3,\n        current_type: 'year',\n        interval_unit: 'month',\n        interval_value: 1,\n    },\n    {\n        current_date_range: 1,\n        current_type: 'year',\n        interval_unit: 'week',\n        interval_value: 1,\n    },\n    {\n        current_date_range: 1,\n        current_type: 'month',\n        interval_unit: 'day',\n        interval_value: 1,\n    },\n    {\n        current_date_range: 1,\n        current_type: 'week',\n        interval_unit: 'hour',\n        interval_value: 12,\n    },\n    {\n        current_date_range: 4,\n        current_type: 'day',\n        interval_unit: 'hour',\n        interval_value: 3,\n    },\n    {\n        current_date_range: 1,\n        current_type: 'day',\n        interval_unit: 'hour',\n        interval_value: 1,\n    },\n    {\n        current_date_range: 16,\n        current_type: 'hour',\n        interval_unit: 'minute',\n        interval_value: 30,\n    },\n    {\n        current_date_range: 8,\n        current_type: 'hour',\n        interval_unit: 'minute',\n        interval_value: 10,\n    },\n    {\n        current_date_range: 2,\n        current_type: 'hour',\n        interval_unit: 'minute',\n        interval_value: 5,\n    },\n    {\n        current_date_range: 38,\n        current_type: 'minute',\n        interval_unit: 'minute',\n        interval_value: 1,\n    },\n    {\n        current_date_range: 13,\n        current_type: 'minute',\n        interval_unit: 'second',\n        interval_value: 30,\n    },\n    {\n        current_date_range: 6,\n        current_type: 'minute',\n        interval_unit: 'second',\n        interval_value: 10,\n    },\n    {\n        current_date_range: 4,\n        current_type: 'minute',\n        interval_unit: 'second',\n        interval_value: 5,\n    },\n    {\n        current_date_range: 1,\n        current_type: 'minute',\n        interval_unit: 'second',\n        interval_value: 1,\n    },\n];\n\nexport const CAN_SEARCH_FIELD_TYPE = ['STRING', 'ARRAY', 'NUMBER', 'VARIANT'];\nexport const ENABLE_SEARCH_FIELD_TYPE = ['DATETIME', 'TIMESTAMP', 'TIME'];\n\n\nexport function getAutoInterval(currentDate: [Dayjs, Dayjs]): AutoInterval {\n    const AUTO_INTERVALS_OBJ = groupBy(AUTO_INTERVALS, ({ current_type }) => current_type);\n    const [startDate, endDate] = currentDate;\n    const diffYear = endDate?.diff(startDate, 'year');\n    const diffMonth = endDate?.diff(startDate, 'month');\n    const diffWeek = endDate?.diff(startDate, 'week');\n    const diffDay = endDate?.diff(startDate, 'day');\n    const diffHour = endDate?.diff(startDate, 'hour');\n    const diffMinute = endDate?.diff(startDate, 'minute');\n\n    let intervalInfo: any = {};\n\n    if ((diffYear as number) >= 3) {\n        intervalInfo = AUTO_INTERVALS_OBJ['year'].find(item => {\n            return item.current_date_range === 3;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffYear as number) < 3 && (diffYear as number) >= 1) {\n        intervalInfo = AUTO_INTERVALS_OBJ['year'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffMonth as number) >= 1) {\n        intervalInfo = AUTO_INTERVALS_OBJ['month'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffWeek as number) >= 1) {\n        intervalInfo = AUTO_INTERVALS_OBJ['week'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffDay as number) >= 4) {\n        intervalInfo = AUTO_INTERVALS_OBJ['day'].find(item => {\n            return item.current_date_range === 4;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffDay as number) >= 1 && (diffDay as number) < 4) {\n        intervalInfo = AUTO_INTERVALS_OBJ['day'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffHour as number) >= 16) {\n        intervalInfo = AUTO_INTERVALS_OBJ['hour'].find(item => {\n            return item.current_date_range === 16;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffHour as number) >= 8) {\n        intervalInfo = AUTO_INTERVALS_OBJ['hour'].find(item => {\n            return item.current_date_range === 8;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffHour as number) >= 2) {\n        intervalInfo = AUTO_INTERVALS_OBJ['hour'].find(item => {\n            return item.current_date_range === 2;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffMinute as number) >= 38) {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 38;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffMinute as number) >= 13) {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 13;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffMinute as number) >= 6) {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 6;\n        });\n        return intervalInfo as AutoInterval;\n    }\n\n    if ((diffMinute as number) >= 4) {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 4;\n        });\n        return intervalInfo as AutoInterval;\n    }\n    if ((diffMinute as number) >= 1) {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    } else {\n        intervalInfo = AUTO_INTERVALS_OBJ['minute'].find(item => {\n            return item.current_date_range === 1;\n        });\n        return intervalInfo as AutoInterval;\n    }\n}\n\nexport function translationDateIntervalType(type: IntervalEnum): string {\n    if (type === 'auto') {return 'Auto';}\n    else if (type === 'second') {return 'Second';}\n    else if (type === 'minute') {return 'Minute';}\n    else if (type === 'hour') {return 'Hour';}\n    else if (type === 'day') {return 'Day';}\n    else if (type === 'week') {return 'Week';}\n    else if (type === 'month') {return 'Month';}\n\n    return 'Year';\n}\n\n"],"names":["React","Route","Routes","ROUTES","Discover","lazy","PageTrace","App","_props","path","element","Traces","pluginJson","groupBy","PLUGIN_BASE_URL","id","FORMAT_DATE","IntervalEnum","DEFAULT_SERVICE","value","label","DEFAULT_OPERATION","AUTO_INTERVALS","current_date_range","current_type","interval_unit","interval_value","CAN_SEARCH_FIELD_TYPE","ENABLE_SEARCH_FIELD_TYPE","getAutoInterval","currentDate","AUTO_INTERVALS_OBJ","startDate","endDate","diffYear","diff","diffMonth","diffWeek","diffDay","diffHour","diffMinute","intervalInfo","find","item","translationDateIntervalType","type"],"sourceRoot":""}